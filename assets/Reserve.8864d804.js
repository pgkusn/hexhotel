import{m as e,c as o,o as s,B as a,z as t,A as n,a as l,L as r,b as d,d as u,e as i,D as c,f as m,M as b,F as f,G as v,H as p}from"./vendor.422a63ca.js";import{_ as x,a as F,u as g,b as h,c as w,o as k}from"./index.765b017c.js";const y={name:"Reserve",components:{FooterBlock:x,ReserveArea:F},directives:{focus:{mounted(e){e.focus()}}},setup(){const t=g(),n=h(),l=w(),r=e(""),d=e(""),u=e(0),i=o((()=>!r.value||!/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$/.test(d.value))),c=()=>{event.preventDefault(),event.returnValue=""};return s((()=>{window.addEventListener("beforeunload",c)})),a((()=>{window.removeEventListener("beforeunload",c)})),k((()=>{t.commit("setRoom",null),t.commit("setBooking",null)})),{name:r,tel:d,onFocus:u,disableSubmit:i,submitHandler:async()=>{await t.dispatch("reserve",{id:l.params.id,name:r.value,tel:d.value,date:t.state.newBooking})&&n.push({name:"Success"})}}}},B=v("data-v-48bded4a");t("data-v-48bded4a");const E={class:"flex-grow mx-auto pt-10 grid grid-cols-2 gap-8"},R=i("h1",{class:"text-4xl text-dark-blue font-bold"},[p(" Reservation"),i("br"),p("information ")],-1),H=i("label",{for:"name",class:"flex items-center font-bold"},[i("span",{class:"material-icons"},"perm_identity"),p("NAME ")],-1),S=i("label",{for:"tel",class:"flex items-center font-bold"},[i("span",{class:"material-icons"},"phone_android"),p("PHONE ")],-1);n();const _=B(((e,o,s,a,t,n)=>{const v=l("ReserveArea"),p=l("FooterBlock"),x=r("focus");return d(),u(f,null,[i("main",E,[i("div",null,[R,i("form",{onSubmit:o[7]||(o[7]=c(((...e)=>a.submitHandler&&a.submitHandler(...e)),["prevent"]))},[i("div",{class:["mt-6",1===a.onFocus?"text-light-blue":"text-dark-blue"]},[H,m(i("input",{id:"name","onUpdate:modelValue":o[1]||(o[1]=e=>a.name=e),type:"text",class:"border-b border-solid border-dark-gray w-full mt-6 focus:outline-none focus:border-light-blue",required:"",onFocus:o[2]||(o[2]=e=>a.onFocus=1),onBlur:o[3]||(o[3]=e=>a.onFocus=2===a.onFocus?2:0)},null,544),[[b,a.name],[x]])],2),i("div",{class:["mt-6",2===a.onFocus?"text-light-blue":"text-dark-blue"]},[S,m(i("input",{id:"tel","onUpdate:modelValue":o[4]||(o[4]=e=>a.tel=e),type:"text",class:"border-b border-solid border-dark-gray w-full mt-6 focus:outline-none focus:border-light-blue",required:"",onFocus:o[5]||(o[5]=e=>a.onFocus=2),onBlur:o[6]||(o[6]=e=>a.onFocus=1===a.onFocus?1:0)},null,544),[[b,a.tel]])],2),i("button",{class:"btn-main btn-reserve mt-12",disabled:a.disableSubmit}," RESERVE NOW ",8,["disabled"])],32)]),i(v,{"show-header":!0,readonly:!0,"show-total":!0,"show-submit":!1})]),i(p,{addr:!0})],64)}));y.render=_,y.__scopeId="data-v-48bded4a";export default y;
